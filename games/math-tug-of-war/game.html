<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Math Tug-of-War - Interactive learning game for students">
    <title>Math Tug-of-War | PlayLearn Games</title>

    <!-- Styles -->
    <link rel="stylesheet" href="../../style.css">
    <link rel="stylesheet" href="styles/game.css">
    <link rel="stylesheet" href="styles/rope-animation.css">
    <link rel="stylesheet" href="styles/effects.css">
</head>

<body class="game-page">
    <!-- Navigation -->
    <nav class="game-nav">
        <a href="../../index.html" class="back-btn">‚Üê Back to Games</a>
        <h1>üéØ Math Tug-of-War</h1>
        <div class="nav-controls">
            <button id="soundToggle" class="icon-btn" aria-label="Toggle sound">üîä</button>
            <button id="teacherModeToggle" class="icon-btn" aria-label="Toggle teacher mode">üë®‚Äçüè´</button>
        </div>
    </nav>

    <!-- Main Game Container -->
    <div class="game-container">
        <!-- Settings Toggle Button -->
        <button id="settingsToggle" class="settings-toggle-btn" aria-label="Toggle settings">
            ‚öôÔ∏è Settings
        </button>

        <!-- Settings Panel -->
        <aside class="settings-panel" id="settingsPanel">
            <div class="settings-header">
                <h3>‚öôÔ∏è Settings</h3>
                <button class="close-settings" id="closeSettings" aria-label="Close settings">‚úï</button>
            </div>

            <div class="setting-group">
                <label for="difficultySelect">Difficulty</label>
                <select id="difficultySelect">
                    <option value="easy">Easy (1-10)</option>
                    <option value="medium" selected>Medium (1-50)</option>
                    <option value="hard">Hard (1-100)</option>
                </select>
            </div>

            <div class="setting-group">
                <label for="operationSelect">Operation</label>
                <select id="operationSelect">
                    <option value="addition">Addition (+)</option>
                    <option value="subtraction">Subtraction (‚àí)</option>
                    <option value="multiplication">Multiplication (√ó)</option>
                    <option value="division">Division (√∑)</option>
                    <option value="mixed" selected>Mixed Operations</option>
                </select>
            </div>

            <div class="setting-group">
                <label class="toggle-label">
                    <input type="checkbox" id="timerToggle" checked>
                    <span>Enable Timer</span>
                </label>
            </div>

            <div class="setting-group">
                <label for="timerValue">Timer (seconds)</label>
                <input type="number" id="timerValue" min="5" max="60" value="20" step="5">
            </div>

            <div class="setting-group">
                <label class="toggle-label">
                    <input type="checkbox" id="questionLimitToggle">
                    <span>Limit Questions</span>
                </label>
            </div>

            <div class="setting-group">
                <label for="questionLimit">Number of Questions</label>
                <input type="number" id="questionLimit" min="5" max="100" value="40" step="5">
            </div>

            <div class="control-buttons">
                <button id="startBtn" class="btn btn-primary">Start Game</button>
                <button id="pauseBtn" class="btn btn-secondary" disabled>Pause</button>
                <button id="resetBtn" class="btn btn-secondary">Reset</button>
            </div>
        </aside>

        <!-- Game Content -->
        <main id="gameContent" class="game-content">
            <!-- Player Indicators -->
            <div class="players-section">
                <div id="player1" class="player-indicator player1">
                    <div class="player-avatar">üî¥</div>
                    <div class="player-info">
                        <h3>Player 1</h3>
                        <div class="score-display">Score: <span id="score1">0</span></div>
                    </div>
                </div>

                <div class="timer-display">
                    <div class="timer-circle">
                        <span id="timerDisplay">20</span>
                    </div>
                </div>

                <div id="player2" class="player-indicator player2">
                    <div class="player-avatar">üîµ</div>
                    <div class="player-info">
                        <h3>Player 2</h3>
                        <div class="score-display">Score: <span id="score2">0</span></div>
                    </div>
                </div>
            </div>

            <!-- Rope Canvas -->
            <div class="rope-container">
                <canvas id="ropeCanvas" width="800" height="200"></canvas>
            </div>

            <!-- Question Display -->
            <div class="question-section">
                <div id="questionDisplay" class="question-display">
                    Press Start to Begin!
                </div>
            </div>

            <!-- Answer Input -->
            <div class="answer-section">
                <input type="number" id="answerInput" class="answer-input" placeholder="Enter your answer..." disabled
                    autocomplete="off">
                <button id="submitBtn" class="btn btn-submit" disabled>
                    Submit Answer
                </button>
            </div>

            <!-- Feedback Display -->
            <div id="feedbackDisplay" class="feedback" style="display: none;"></div>
        </main>

        <!-- Teacher Mode View -->
        <div id="teacherView" class="teacher-view" style="display: none;">
            <h2>Teacher Mode - Score View</h2>
            <div class="teacher-scores">
                <div class="teacher-score-card player1-card">
                    <h3>Player 1</h3>
                    <div class="large-score" id="teacherScore1">0</div>
                </div>
                <div class="teacher-score-card player2-card">
                    <h3>Player 2</h3>
                    <div class="large-score" id="teacherScore2">0</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Win Overlay -->
    <div id="winOverlay" class="win-overlay">
        <div class="win-content">
            <h2 class="winner-name">Player 1 Wins!</h2>
            <div class="trophy">üèÜ</div>
            <div class="final-score">Final Score: 5 - 3</div>
            <button id="playAgainBtn" class="btn btn-primary">Play Again</button>
        </div>
    </div>

    <!-- Confetti Container -->
    <div id="confettiContainer"></div>

    <!-- Game Script (ES6 Module) -->
    <script type="module" src="index.js"></script>
</body>

</html>